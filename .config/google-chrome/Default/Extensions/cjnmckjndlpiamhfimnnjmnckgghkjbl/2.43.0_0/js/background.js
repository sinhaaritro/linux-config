(()=>{"use strict";var e,t={9940:function(e,t,o){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(o(3193)),r=o(6291),a=o(33),i=o(9377),c=o(2086);async function d(e,t){e.url.startsWith("https://codingcompetitions.withgoogle.com/")&&await s.default.permissions.request({origins:["https://codejam.googleapis.com/dashboard/get_file/*"]});for(const t of["common","content"])await s.default.tabs.executeScript(e.id,{file:`js/${t}.js`});(0,c.sendToContent)(e.id,a.MessageAction.Parse,{parserName:t})}s.default.browserAction.onClicked.addListener((function(e){d(e,null)})),s.default.contextMenus.onClicked.addListener((function(e,t){if(e.menuItemId.toString().startsWith("parse-with-")){d(t,e.menuItemId.toString().split("parse-with-").pop())}})),s.default.runtime.onMessage.addListener((function(e,t){t.tab&&(e.action===a.MessageAction.SendTask?function(e,t){(0,r.getHosts)().then((async o=>{for(const e of o)try{await e.send(t)}catch(e){}(0,c.sendToContent)(e,a.MessageAction.TaskSent)}))}(t.tab.id,e.payload.message):e.action===a.MessageAction.SendGCCFile&&async function(e,t){try{if(await s.default.permissions.contains({origins:["https://codejam.googleapis.com/dashboard/get_file/*"]})){const o=await fetch(t),n=await o.text();(0,c.sendToContent)(e,a.MessageAction.GCCFileResult,{content:n})}else(0,c.sendToContent)(e,a.MessageAction.GCCRequestFailed)}catch(t){(0,c.sendToContent)(e,a.MessageAction.GCCRequestFailed)}}(t.tab.id,e.payload.link))})),function(){s.default.contextMenus.create({id:"parse-with",title:"Parse with",contexts:["browser_action"]}),s.default.contextMenus.create({id:"problem-parser",parentId:"parse-with",title:"Problem parser",contexts:["browser_action"]}),s.default.contextMenus.create({id:"contest-parser",parentId:"parse-with",title:"Contest parser",contexts:["browser_action"]});for(const e of i.parsers){const t=e.constructor.name,o=t.endsWith("ContestParser");s.default.contextMenus.create({id:`parse-with-${t}`,parentId:(o?"contest":"problem")+"-parser",title:t,contexts:["browser_action"]})}}()},7313:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CHelperHost=void 0;const n=o(9560);t.CHelperHost=class CHelperHost{async send(e){const t=await n.config.get("requestTimeout");return new Promise((o=>{const n=new XMLHttpRequest;n.open("POST","http://localhost:4243/",!0),n.timeout=t,n.onload=()=>o(),n.ontimeout=()=>o(),n.onabort=()=>o(),n.onerror=()=>o();try{n.send("json\n"+e),n.send()}catch(e){}}))}}},4739:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CustomHost=void 0;const n=o(9560);t.CustomHost=class CustomHost{constructor(e){this.port=e}async send(e){const t=await n.config.get("requestTimeout");return new Promise((o=>{const n=new XMLHttpRequest;n.open("POST",`http://localhost:${this.port}`,!0),n.setRequestHeader("Content-Type","application/json"),n.timeout=t,n.onload=()=>o(),n.ontimeout=()=>o(),n.onabort=()=>o(),n.onerror=()=>o();try{n.send(e),n.send()}catch(e){}}))}}},6291:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getHosts=void 0;const n=o(9560),s=o(7313),r=o(4739),a=[new s.CHelperHost],i=[1327,4244,6174,10042,10043,10045,27121];t.getHosts=async function(){const e=await n.config.get("customPorts"),t=[...new Set(i.concat(e))];return a.concat(t.map((e=>new r.CustomHost(e))))}}},o={};function n(e){var s=o[e];if(void 0!==s)return s.exports;var r=o[e]={exports:{}};return t[e].call(r.exports,r,r.exports,n),r.exports}n.m=t,e=[],n.O=(t,o,s,r)=>{if(!o){var a=1/0;for(u=0;u<e.length;u++){for(var[o,s,r]=e[u],i=!0,c=0;c<o.length;c++)(!1&r||a>=r)&&Object.keys(n.O).every((e=>n.O[e](o[c])))?o.splice(c--,1):(i=!1,r<a&&(a=r));if(i){e.splice(u--,1);var d=s();void 0!==d&&(t=d)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[o,s,r]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={352:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var s,r,[a,i,c]=o,d=0;if(a.some((t=>0!==e[t]))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(c)var u=c(n)}for(t&&t(o);d<a.length;d++)r=a[d],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(u)},o=self.webpackChunkcompetitive_companion=self.webpackChunkcompetitive_companion||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var s=n.O(void 0,[592],(()=>n(9940)));s=n.O(s)})();